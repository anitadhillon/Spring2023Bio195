---
title: "UHURU Data set visualization"
author: "Anita Dhillon"
date: "2023-02-23"
output:
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

The working directory inside this Rmarkdown chunk r chunk is the following:

```{r eval=TRUE}
getwd()
```

Note: remeber that working directories in a project and an R chunk are not always the same!

## 1. Describing the working data set

UHURU data set

![](https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Acacia_smallii_4.jpg/640px-Acacia_smallii_4.jpg)

## 2. Reading the data set

We are reading a data set in TSV format. This is a "tab separated values" dfiles. To read it into R we use the function read.csv with the `sep =` argument set to `"\t"` which represents a tab in computer language

```{r eval=TRUE}
 read.csv(file = "../data-raw/ACACIA_DREPANOLOBIUM_SURVEY.txt", sep = "\t")
```

Assign the data to a variable so we can work with it

```{r eval=TRUE}
acacia <- read.csv(file = "../data-raw/ACACIA_DREPANOLOBIUM_SURVEY.txt", sep = "\t")
```

### 3. Accessing elements of a 'data.frame'

It is similiar to what we do for vetors, but we have two dimensions

```{r}
acacia[,6]
str(acacia)
1:100
```

All the following are different ways of accessing certain points in dead

```{r}
numbers <- 1:10
numbers
numbers [3:6]
numbers[c(1,5,7,3)]
acacia$SURVEY
acacia[,1]
acacia[,"SURVEY"]
```

### Replacing elements in a data.frame

First we locate the element we want to replace

```{r}
numbers[5] <- 100
numbers
```

## 4. Quality Control check

Check that everything is the correct class and type

```{r}
head(acacia)
str(acacia)
acacia
class(acacia$HEIGHT)
is.numeric(acacia$HEIGHT)
acacia$HEIGHT
as.numeric(acacia$HEIGHT)

```

We identified that HEIGHT should be numeric and is instead character

```{r}
acacia$HEIGHT <- as.numeric(acacia$HEIGHT)
acacia$HEIGHT

```

Coercion in R computer language means that a value was forced to be a type, in this case, the word "dead" cannot be transformed to a number, so it is assigned the NA value

```{r}
acacia <- read.csv(file = "../data-raw/ACACIA_DREPANOLOBIUM_SURVEY.txt",
         sep = "\t",
         na.strings ="Dead")
is.numeric(acacia$HEIGHT)
```

### 5. Plotting data with 'ggplot2'

Regular way to plot in R

```{r}
plot(x=acacia$HEIGHT, y=acacia$AXIS1, main = "Acacia Height vs Circumference")
legend(x = 1, y = 5, legend = "Acacia Trees")

```

With ggplot, we create layers

```{r}
library(ggplot2)
ggplot(data = acacia, mapping = aes(x = HEIGHT, y = AXIS1, color = TREATMENT)) +
geom_point(size = 2)
labs(x ="Tree Height", y = "Tree Axis 1", title = "Acacia Trees Size Relationships")

```

```{r}
colors()
```
